<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>PLAYTOGETHER X IOSVIET</title>

<style>
/* ===== N·ªÄN + HOA R∆†I ===== */
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(#fdeff9,#ecf0ff);
  overflow:hidden;
}
#flowers{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}

/* ===== CƒÇN GI·ªÆA ===== */
.wrapper{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  z-index:1;
}

/* ===== KH·ªêI CH·ª®A ===== */
.container{
  text-align:center;
}

/* ===== TI√äU ƒê·ªÄ ===== */
.title{
  font-size:28px;
  font-weight:bold;
  letter-spacing:2px;
  margin-bottom:4px;
}
.subtitle{
  font-size:14px;
  color:#666;
  margin-bottom:14px;
}

/* ===== APP ===== */
.app{
  background:#fff;
  padding:28px 40px 34px;
  border-radius:18px;
  box-shadow:0 20px 45px rgba(0,0,0,.18);
}

/* ===== CONTROLS ===== */
.controls{
  margin-bottom:14px;
}
.controls input{
  width:60px;
  font-size:16px;
  padding:4px;
  margin:0 6px;
}
button{
  padding:8px 18px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#f0f0f0;
}
button:hover{background:#e0e0e0}

/* ===== TOOLBAR ===== */
.toolbar{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:18px 0;
}
.tool{
  width:52px;
  height:52px;
  border:2px solid #ddd;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:26px;
  background:#fff;
  transition:.2s;
}
.tool.active{
  border-color:#ff4d4f;
  background:#ffecec;
  transform:scale(1.12);
}

/* ===== GRID ===== */
.grid{
  display:grid;
  gap:10px;
  justify-content:center;
}
.cell{
  width:82px;
  height:82px;
  border:2px solid #aaa;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  cursor:pointer;
  background:#fff;
  user-select:none;
  transition:.15s;
}
.cell.pop{
  animation:pop .25s ease;
}
@keyframes pop{
  from{transform:scale(.6);opacity:.3}
  to{transform:scale(1);opacity:1}
}
</style>
</head>

<body>

<canvas id="flowers"></canvas>

<div class="wrapper">
  <div class="container">

    <!-- ===== CH·ªÆ PH√çA TR√äN ===== -->
    <div class="title">PLAYTOGETHER X IOSVIET</div>
    <div class="subtitle">(b·∫•m 2 l·∫ßn ƒë·ªÉ x√≥a)</div>

    <div class="app">

      <div class="controls">
        Cao <input id="rows" type="number" value="3" min="1">
        D√†i <input id="cols" type="number" value="7" min="1">
        <button onclick="createGrid()">T·∫°o L∆∞·ªõi</button>
        <button onclick="resetGrid()">Reset</button>
      </div>

      <div class="toolbar" id="toolbar"></div>
      <div class="grid" id="grid"></div>

    </div>
  </div>
</div>

<script>
/* ===== ICONS ===== */
const icons = ["üç∑","üéµ","üü™","‚õµ","üî∂","‚öì","ü™Ñ","üîç","üéÇ"];
let currentIcon = icons[0];
let gridData = [];

const toolbar = document.getElementById("toolbar");
const grid = document.getElementById("grid");

/* ===== TOOLBAR ===== */
icons.forEach(icon=>{
  const t=document.createElement("div");
  t.className="tool"+(icon===currentIcon?" active":"");
  t.textContent=icon;
  t.onclick=()=>{
    document.querySelectorAll(".tool").forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
    currentIcon=icon;
  };
  toolbar.appendChild(t);
});

/* ===== GRID ===== */
function createGrid(){
  const r=+rows.value, c=+cols.value;
  gridData=Array(r*c).fill("");
  grid.style.gridTemplateColumns=`repeat(${c},82px)`;
  render();
}

function render(){
  grid.innerHTML="";
  gridData.forEach((v,i)=>{
    const cell=document.createElement("div");
    cell.className="cell";
    cell.textContent=v;

    // CLICK 1 L·∫¶N: ƒê·∫∂T ICON
    cell.onclick=()=>{
      if(gridData[i]===""){
        gridData[i]=currentIcon;
        cell.classList.add("pop");
        setTimeout(()=>cell.classList.remove("pop"),200);
        render();
      }
    };

    // DOUBLE CLICK: X√ìA ICON
    cell.ondblclick=()=>{
      gridData[i]="";
      render();
    };

    grid.appendChild(cell);
  });
}

function resetGrid(){
  grid.innerHTML="";
  gridData=[];
}

/* ===== HOA R∆†I ===== */
const canvas=document.getElementById("flowers");
const ctx=canvas.getContext("2d");
function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize(); addEventListener("resize",resize);

const petals=Array.from({length:45},()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*6+4,
  s:Math.random()*1.2+.5
}));

function fall(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  petals.forEach(p=>{
    p.y+=p.s;
    p.x+=Math.sin(p.y*0.01);
    if(p.y>canvas.height){
      p.y=-10; p.x=Math.random()*canvas.width;
    }
    ctx.beginPath();
    ctx.fillStyle="rgba(255,182,193,.85)";
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(fall);
}
fall();
</script>

</body>
</html>
